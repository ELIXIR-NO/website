---
import { getCollection, render } from "astro:content";
import { components } from "../../components/elements";

export const prerender = true;

export async function getStaticPaths() {
    const news = await getCollection("news");
    return news.map((entry, index) => {
        let [previousArticle, nextArticle] = [
            index === 0 ? null : news[index - 1],
            index + 1 === news.length ? null : news[index + 1],
        ];
        return {
            params: {
                news: entry.id,
            },
            props: {
                entry,
                previousArticle,
                nextArticle,
            },
        };
    });
}

const { entry } = Astro.props;
const { Content: MarkdownContent } = await render(entry);
---

<MarkdownContent components={components} />
